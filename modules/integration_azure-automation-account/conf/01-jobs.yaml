## Example
module: Azure Automation Account
name: jobs

transformation: ".count(over='1h')"
aggregation: ".count(by=['runbook'])"

filtering: "filter('resource_type', 'Microsoft.Automation/automationAccounts') and filter('primary_aggregation_type', 'true')"

signals:
  success:
    metric: "TotalJob"
    filtering: "filter('status', 'Completed')"
  failed:
    metric: "TotalJob"
    filtering: "filter('status', 'Failed')"
  signal:
    formula: (failed - success).min(over='1h')
rules:
  critical:
    threshold: 1
    comparator: ">="


