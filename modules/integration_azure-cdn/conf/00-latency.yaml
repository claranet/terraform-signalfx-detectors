module: Azure CDN
name: latency
filtering: "filter('resource_type', 'microsoft.cdn/profiles') and filter('primary_aggregation_type', 'true')"

transformation: ".max(over='15m')"

signals:
  signal:
    metric: "TotalLatency"
rules:
  critical:
    threshold: 1500
    comparator: ">"
  major:
    threshold: 3000
    comparator: ">"
    dependency: critical