module: Azure CDN
name: latency
filtering: "filter('resource_type', 'microsoft.cdn/profiles') and filter('primary_aggregation_type', 'true')"

transformation: ".min(over='15m')"

signals:
  signal:
    metric: "TotalLatency"
rules:
  critical:
    threshold: 2000
    comparator: ">"
  major:
    threshold: 4000
    comparator: ">"
    dependency: critical